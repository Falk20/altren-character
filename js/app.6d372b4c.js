(function(){"use strict";var e={242:function(e,t,a){var l=a(9242),n=a(9583),i=a(4457),s=a(9125),r=a(7795),o=a(7139),u=a(2482);class c{constructor(e,t,a,l){(0,u.Z)(this,"title",void 0),(0,u.Z)(this,"emptyIcon",void 0),(0,u.Z)(this,"fullIcon",void 0),(0,u.Z)(this,"color",void 0),this.title=e,this.emptyIcon=t,this.fullIcon=a,this.color=l}}const d=new c("HP","mdi-heart-outline","mdi-heart","error"),m=new c("MP","mdi-star-outline","mdi-star","primary"),h=new c("EP","mdi-flash-outline","mdi-flash","yellow-darken-1"),p=new c("Басидж","mdi-adjust","mdi-album","primary"),f=new c("Вдохновение","mdi-music-note-outline","mdi-music-note","light-blue-lighten-1");var g,v;(function(e){e["stackable"]="stackable",e["nonStackable"]="nonStackable",e["armor"]="armor",e["weapon"]="weapon",e["projectile"]="projectile"})(g||(g={})),function(e){e["dice"]="dice",e["modificator"]="modificator"}(v||(v={}));const w=4,k=5,y=4,M=6,_=2,b=15,W=3,S="character-status",j="character-stats",A="character-personal-info",C="character-inventory",V="character-skills",x="charlistID",F="human",I="malf",P="beastman",Z=[{title:"Человек",value:F},{title:"Мальф",value:I},{title:"Зверолюд",value:P}];var T;(function(e){e["strength"]="strength",e["agility"]="agility",e["intelligence"]="intelligence",e["charisma"]="charisma",e["endurance"]="endurance"})(T||(T={}));const B={[T.strength]:{title:"Сила",skills:[{title:"Одноручное оружие",value:"oneHandedWeapons"},{title:"Двуручное оружие",value:"twoHandedWeapons"},{title:"Чёрное ремесло",value:"blackCraft"},{title:"Щит",value:"shield"},{title:"Сила мула",affects:["bagCapacity"],value:"mulePower"},{title:"Кулачный бой",value:"fistFight"},{title:"Кузнец",value:"blacksmith"}]},[T.agility]:{title:"Ловкость",skills:[{title:"Выживание",value:"survival"},{title:"Взлом",value:"hacking"},{title:"Меткость",value:"accuracy"},{title:"Лук",value:"bow"},{title:"Арбалет",value:"crossbow"},{title:"Верховая езда",value:"horseRiding"},{title:"Кинжал",value:"dagger"},{title:"Внимательность",value:"attentiveness"},{title:"Бдительность",value:"vigilance"},{title:"Уклонение",value:"evasion"},{title:"Парное оружие",value:"pairedWeapons"},{title:"Парирование",value:"parrying"},{title:"Атлетика",affects:["speed"],value:"athletics"},{title:"Древковое оружие",value:"shaftWeapons"},{title:"Маскировка",value:"cloaking"}]},[T.intelligence]:{title:"Интеллект",skills:[{title:"Алхимия",value:"alchemy"},{title:"Инженерия",value:"engineering"},{title:"Языки",value:"languages"},{title:"Первая помощь",value:"aid"},{title:"Медицина",value:"medicine"},{title:"Ювелирное дело",value:"jewelry"},{title:"Травничество",value:"herbalism"},{title:"Оккультизм",value:"occultism"}]},[T.charisma]:{title:"Харизма",skills:[{title:"Торговля",value:"trade"},{title:"Красноречие",value:"eloquence"},{title:"Лидерство",value:"leadership"}]},[T.endurance]:{title:"Выносливость",skills:[{title:"Стойки",affects:["stanceModificator"],value:"stances"},{title:"Сопротивление природе",value:"natureResist"},{title:"Сопротивление проклятиям",value:"cursesResist"},{title:"Пёрышко",value:"feather"},{title:"Здоровье",affects:["maxHits"],value:"health"}]}},U=(g.nonStackable,g.stackable,g.armor,g.weapon,g.projectile,{wallet:0});function D(){return R(C,U,"В хранилище невалидные данные об инвентаре персонажа")}const N={hits:4,mana:5,inspiration:6,fatigue:0,conditions:{HP:0,MP:0,threshold:0}};function H(){return R(S,N,"В хранилище невалидные данные о статусе персонажа")}const q={strength:0,agility:0,intelligence:0,charisma:0,endurance:0};function O(){return R(j,q,"В хранилище невалидные данные о характеристиках персонажа")}const K={isMage:!1,isBasij:!1,basijLevel:2,isBard:!1,name:"",race:"",talents:[],mutations:[],karma:0,fame:0};function L(){return R(A,K,"В хранилище невалидные данные о личности персонажа")}const z={skills:{[T.strength]:{},[T.agility]:{},[T.intelligence]:{},[T.charisma]:{},[T.endurance]:{}}};function E(){return R(V,z,"В хранилище невалидные данные о характеристиках персонажа")}function G(e,t){const a=JSON.stringify(t);localStorage.setItem(e,a)}function R(e,t,a){const l=localStorage.getItem(e);if(l)try{return JSON.parse(l)}catch{console.error(a)}return t}function $(e,t){return e&&t?p:e&&!t?m:h}function J(){return{inventory:D(),status:H(),stats:O(),personalInfo:L(),skills:E()}}function Y(e){localStorage.setItem(x,e.id),G(S,e.status),G(j,e.stats),G(A,e.personalInfo),G(C,e.inventory),G(V,e.skills),window.location.reload()}var Q={namespaced:!0,state:()=>D(),getters:{wallet(e){return e.wallet}},mutations:{setWallet(e,t){e.wallet=t,G(C,e)}},actions:{}},X={namespaced:!0,state:()=>H(),getters:{isMage(e,t,a,l){return l["character/personalInfo/isMage"]},isBasij(e,t,a,l){return l["character/personalInfo/isBasij"]},isBard(e,t,a,l){return l["character/personalInfo/isBard"]},isHuman(e,t,a,l){return l["character/personalInfo/kind"]===F},isMalf(e,t,a,l){return l["character/personalInfo/kind"]===I},isFameLvl2(e,t,a,l){return l["character/personalInfo/fame"]>=100},isFameLvl3(e,t,a,l){return l["character/personalInfo/fame"]>=350},hits(e){return e.hits},maxHits(e,t,a,l){const n=l["character/skills/getSkill"]("health",T.endurance)??0,i=t.isMalf?1:0,s=n+i;return w+e.conditions.HP+s},mana(e){return e.mana},maxMana(e,t,a,l){const n=e.conditions.MP;if(t.isBasij){const e=l["character/personalInfo/basijLevel"];return e+n}if(t.isMage){const e=2*l["character/stats/intelligence"],a=t.isHuman?e+1:e;return k+n+a}const i=l["character/stats/endurance"];return k+n+i},inspiration(e){return e.inspiration},maxInspiration(e,t,a,l){const n=l["character/stats/charisma"],i=t.isFameLvl2?2:1,s=(M+n)*i;return s},threshold(e,t,a,l){const n=l["character/stats/endurance"];return y+e.conditions.threshold+n},fatigue(e){return e.fatigue},conditionHP(e){return e.conditions.HP},conditionMP(e){return e.conditions.MP},conditionThreshold(e){return e.conditions.threshold},stepCount(e,t,a,l){const n=l["character/skills/getSkill"]("athletics",T.agility)??0,i=l["character/stats/agility"]??0,s=Math.floor(i/2);return W+s+n}},mutations:{setHits(e,t){e.hits=t,G(S,e)},setMana(e,t){e.mana=t,G(S,e)},setInspiration(e,t){e.inspiration=t,G(S,e)},setFatigue(e,t){e.fatigue=t,G(S,e)},setConditionHP(e,t){e.conditions.HP=t,G(S,e)},setConditionMP(e,t){e.conditions.MP=t,G(S,e)},setConditionThreshold(e,t){e.conditions.threshold=t,G(S,e)}},actions:{}},ee={namespaced:!0,state:()=>O(),getters:{statByName:e=>t=>e[t],strength(e){return e.strength},agility(e){return e.agility},intelligence(e){return e.intelligence},charisma(e){return e.charisma},endurance(e){return e.endurance}},mutations:{setStat(e,{statName:t,value:a}){e[t]=a,G(j,e)}}},te={namespaced:!0,state:()=>L(),getters:{name(e){return e.name},kind(e){return e.race},isMage(e){return e.isMage},isBasij(e){return e.isBasij},basijLevel(e){return e.basijLevel},isBard(e){return e.isBard},karma(e){return e.karma},fame(e){return e.fame}},mutations:{setName(e,t){e.name=t,G(A,e)},setKind(e,t){e.race=t,G(A,e)},setIsMage(e,t){e.isMage=t,G(A,e)},setIsBasij(e,t){e.isBasij=t,G(A,e)},setBasijLevel(e,t){e.basijLevel=t,G(A,e)},setIsBard(e,t){e.isBard=t,G(A,e)},setKarma(e,t){e.karma=t,G(A,e)},setFame(e,t){e.fame=t,G(A,e)}},actions:{}},ae={namespaced:!0,state:()=>E(),getters:{skillCount(e,t){const a=Object.keys(e.skills);return a.reduce(((e,a)=>e+Object.keys(t.statSkills(a)).length),0)},statSkills:e=>t=>e.skills[t],getSkill:(e,t)=>(e,a)=>t.statSkills(a)[e]},mutations:{setSkill(e,{name:t,level:a,statName:l}){a?e.skills[l][t]=a:delete e.skills[l][t],G(V,e)}},actions:{}},le={namespaced:!0,modules:{inventory:Q,status:X,stats:ee,personalInfo:te,skills:ae}},ne={namespaced:!0,state:()=>({user:null}),getters:{isAuth(e){return!!e.user}},mutations:{setUser(e,t){e.user=t}},actions:{}},ie={namespaced:!0,modules:{auth:ne}},se=(0,o.MT)({state(){return{sideMenu:!1}},getters:{sideMenu(e){return e.sideMenu}},mutations:{changeSideMenu(e,t){e.sideMenu=t},toggleSideMenu(e){e.sideMenu=!e.sideMenu}},actions:{},modules:{character:le,app:ie}});const re={apiKey:"AIzaSyAwm7Sgf-Hk64_VjALFEadEsT4RinaWjtY",authDomain:"altren-character.firebaseapp.com",projectId:"altren-character",storageBucket:"altren-character.appspot.com",messagingSenderId:"840081531485",appId:"1:840081531485:web:39e407ebec598ea9c7e3b4"},oe=(0,r.ZF)(re),ue=(0,s.v0)(oe),ce=new s.hJ,de=()=>{(0,s.F6)(ue,ce)},me=async()=>{try{await(0,s.w7)(ue),se.commit("app/auth/setUser",null)}catch(e){console.log(e)}};var he=a(3396),pe=a(7718),fe=a(3140);function ge(e,t,a,l,n,i){const s=(0,he.up)("AltNavbar"),r=(0,he.up)("AltSideMenu"),o=(0,he.up)("router-view");return(0,he.wg)(),(0,he.j4)(pe.q,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s),e.isAuth?((0,he.wg)(),(0,he.j4)(r,{key:0})):(0,he.kq)("",!0),(0,he.Wm)(fe.O,null,{default:(0,he.w5)((()=>[(0,he.Wm)(o)])),_:1})])),_:1})}var ve=a(2268),we=a(8796),ke=a(9156),ye=a(1556);function Me(e,t,a,l,n,i){const s=(0,he.up)("HeaderRight");return(0,he.wg)(),(0,he.j4)(we.L,{color:"primary",density:"compact"},{prepend:(0,he.w5)((()=>[e.isAuth?((0,he.wg)(),(0,he.j4)(ke.g,{key:0,onClick:e.toggleSideMenu},null,8,["onClick"])):(0,he.kq)("",!0)])),append:(0,he.w5)((()=>[e.isAuth&&"start"!==e.$route.name?((0,he.wg)(),(0,he.j4)(s,{key:0})):(0,he.kq)("",!0)])),default:(0,he.w5)((()=>[(0,he.Wm)(ye.o,null,{default:(0,he.w5)((()=>[(0,he.Uk)((0,ve.zw)(e.$route.meta.title),1)])),_:1})])),_:1})}var _e=a(870),be=a(11),We=a(6572),Se=a(1334),je=a(3601),Ae=a(9234),Ce=a(9671);const Ve={class:"d-flex"},xe=(0,he.Uk)(" Сохранить текущие изменения? "),Fe=(0,he.Uk)(" Нет "),Ie=(0,he.Uk)(" Да ");function Pe(e,t,a,l,n,i){return(0,he.wg)(),(0,he.iD)("div",Ve,[(0,he.Wm)(_e.T,{class:"mr-2",icon:"mdi-cloud-upload",onClick:e.saveChar},null,8,["onClick"]),(0,he.Wm)(Ce.v,{modelValue:e.alert,"onUpdate:modelValue":t[0]||(t[0]=t=>e.alert=t),type:e.alertType},{default:(0,he.w5)((()=>[(0,he.Uk)((0,ve.zw)(e.alertText),1)])),_:1},8,["modelValue","type"]),(0,he.Wm)(je.B,{modelValue:e.dialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dialog=t)},{activator:(0,he.w5)((({props:e})=>[(0,he.Wm)(_e.T,(0,he.dG)(e,{icon:"mdi-swap-horizontal"}),null,16)])),default:(0,he.w5)((()=>[(0,he.Wm)(be._,null,{default:(0,he.w5)((()=>[(0,he.Wm)(We.E,null,{default:(0,he.w5)((()=>[xe])),_:1}),(0,he.Wm)(Se.h,null,{default:(0,he.w5)((()=>[(0,he.Wm)(Ae.C),(0,he.Wm)(_e.T,{color:"red-darken-1",onClick:t[1]||(t[1]=t=>e.switchChar(!1))},{default:(0,he.w5)((()=>[Fe])),_:1}),(0,he.Wm)(_e.T,{color:"green-darken-1",onClick:t[2]||(t[2]=t=>e.switchChar(!0))},{default:(0,he.w5)((()=>[Ie])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}a(1703);var Ze=a(36);const Te=(0,Ze.ad)(oe);let Be=localStorage.getItem(x);async function Ue(){const e=ue.currentUser;if(!e)throw new Error("вы не авторизованы");{const t={...J(),owner:e.uid};if(Be)await(0,Ze.pl)((0,Ze.JU)(Te,"chars",Be),t,{merge:!0});else{const e=await(0,Ze.ET)((0,Ze.hJ)(Te,"chars"),t);Be=e.id,localStorage.setItem(x,e.id)}}}async function De(){const e=ue.currentUser;return e?(0,Ze.PL)((0,Ze.IO)((0,Ze.hJ)(Te,"chars"),(0,Ze.ar)("owner","==",e.uid))):null}async function Ne(){const e=ue.currentUser;e&&(localStorage.clear(),Be=null,await Ue(),window.location.reload())}var He=(0,he.aZ)({name:"AltHeaderRight",data(){return{dialog:!1,alert:!1,alertType:"success",alertText:"Лист персонажа сохранён"}},methods:{async saveChar(){try{await Ue(),this.alertText="Лист персонажа сохранён",this.alertType="success"}catch(e){console.error(e),this.alertText="Ошибка сохранения",this.alertType="error"}finally{this.alert=!0,setTimeout((()=>{this.alert=!1}),2e3)}},async switchChar(e=!0){e&&await this.saveChar(),this.$router.push("/start"),this.dialog=!1}}}),qe=a(89);const Oe=(0,qe.Z)(He,[["render",Pe]]);var Ke=Oe;const{mapGetters:Le}=(0,o._p)("app/auth");var ze=(0,he.aZ)({name:"AltNavbar",components:{HeaderRight:Ke},computed:{...Le(["isAuth"])},methods:{...(0,o.OI)(["toggleSideMenu"])}});const Ee=(0,qe.Z)(ze,[["render",Me]]);var Ge=Ee,Re=a(7948),$e=a(8319),Je=a(7033);function Ye(e,t,a,l,n,i){const s=(0,he.up)("AltExportJson");return(0,he.wg)(),(0,he.j4)(Je.V,{modelValue:e.drawer,"onUpdate:modelValue":t[0]||(t[0]=t=>e.drawer=t),temporary:""},{append:(0,he.w5)((()=>[(0,he.Wm)(s)])),default:(0,he.w5)((()=>[(0,he.Wm)(Re.i,{density:"compact",nav:""},{default:(0,he.w5)((()=>[((0,he.wg)(!0),(0,he.iD)(he.HY,null,(0,he.Ko)(e.pageList,((t,a)=>((0,he.wg)(),(0,he.j4)($e.l,{key:a,to:{name:t.name},title:e.getPageTitle(t)},null,8,["to","title"])))),128))])),_:1})])),_:1},8,["modelValue"])}function Qe(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(Re.i,{density:"compact",nav:""},{default:(0,he.w5)((()=>[(0,he.Wm)($e.l,{title:"Экспорт",onClick:e.importJson},null,8,["onClick"]),(0,he.Wm)($e.l,{title:"Выход",class:"red",onClick:e.logOut},null,8,["onClick"])])),_:1})}var Xe=(0,he.aZ)({name:"AltExportJson",computed:{...(0,o.rn)(["character"])},methods:{async logOut(){await me(),this.$router.push("/start")},importJson(){const e=JSON.stringify(this.character),t="data:text/json;charset=utf-8,"+encodeURIComponent(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","character.json"),a.click()}}});const et=(0,qe.Z)(Xe,[["render",Qe]]);var tt=et,at=(0,he.aZ)({name:"AltSideMenu",components:{AltExportJson:tt},computed:{...(0,o.Se)(["sideMenu"]),drawer:{get(){return this.sideMenu},set(e){this.changeSideMenu(e)}},pageList(){return this.$router.getRoutes().filter((e=>!e.meta.hideInNav))}},methods:{...(0,o.OI)(["changeSideMenu"]),getPageTitle(e){return e?.meta?.title??""}}});const lt=(0,qe.Z)(at,[["render",Ye]]);var nt=lt;const{mapGetters:it}=(0,o._p)("app/auth");var st=(0,he.aZ)({name:"App",components:{AltNavbar:Ge,AltSideMenu:nt},data(){return{}},computed:{...it(["isAuth"])}});const rt=(0,qe.Z)(st,[["render",ge]]);var ot=rt,ut=a(2483),ct=a(8878),dt=a(3369);function mt(e,t,a,l,n,i){const s=(0,he.up)("AltConditions"),r=(0,he.up)("AltThreshold"),o=(0,he.up)("AltFatigue"),u=(0,he.up)("AltPointBars"),c=(0,he.up)("AltStepCount");return(0,he.wg)(),(0,he.j4)(dt.K,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s),(0,he.Wm)(r),(0,he.Wm)(o),(0,he.Wm)(u),(0,he.Wm)(c)])),_:1})}var ht=a(6824),pt=a(8521),ft=a(3289);const gt={class:"ml-3"},vt=(0,he._)("span",null,"Эффекты",-1),wt={class:"mx-3 d-flex flex-wrap"},kt={key:1,class:"text-caption"};function yt(e,t,a,l,n,i){const s=(0,he.up)("EditForm");return(0,he.wg)(),(0,he.j4)(ht.o,{class:"pa-0 ma-0 mb-3"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he._)("h3",gt,[vt,(0,he.Wm)(_e.T,{class:"d-inline",variant:"text",icon:"mdi-pencil",onClick:t[0]||(t[0]=t=>e.editDialog=!0)})]),(0,he._)("div",wt,[e.haveAnyCondition?((0,he.wg)(),(0,he.iD)(he.HY,{key:0},[e.haveHPCondition?((0,he.wg)(),(0,he.j4)(ft.t,{key:0,class:"mr-2",color:e.HPIcon.color},{default:(0,he.w5)((()=>[(0,he.Uk)((0,ve.zw)(e.HPIcon.icon),1)])),_:1},8,["color"])):(0,he.kq)("",!0),e.haveMPCondition?((0,he.wg)(),(0,he.j4)(ft.t,{key:1,class:"mr-2",color:e.MPIcon.color},{default:(0,he.w5)((()=>[(0,he.Uk)((0,ve.zw)(e.MPIcon.icon),1)])),_:1},8,["color"])):(0,he.kq)("",!0),e.haveThresholdCondition?((0,he.wg)(),(0,he.j4)(ft.t,{key:2,class:"mr-2",color:e.thresholdIcon.color},{default:(0,he.w5)((()=>[(0,he.Uk)((0,ve.zw)(e.thresholdIcon.icon),1)])),_:1},8,["color"])):(0,he.kq)("",!0)],64)):((0,he.wg)(),(0,he.iD)("p",kt,"Нет активных эффектов"))]),(0,he.Wm)(s,{editDialog:e.editDialog,"onUpdate:editDialog":t[1]||(t[1]=t=>e.editDialog=t)},null,8,["editDialog"])])),_:1})])),_:1})}var Mt=a(1888),_t=a(6353),bt=a(7471),Wt=a(5030);const St=(0,he.Uk)("Эффекты"),jt=(0,he._)("pre",{class:"text-caption text-center"},"HP",-1),At={class:"text-caption text-center"},Ct=(0,he._)("pre",{class:"text-caption text-center"},"Порог",-1);function Vt(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(je.B,{modelValue:e.dialogModel,"onUpdate:modelValue":t[4]||(t[4]=t=>e.dialogModel=t),fullscreen:"",scrollable:""},{default:(0,he.w5)((()=>[(0,he.Wm)(be._,null,{default:(0,he.w5)((()=>[(0,he.Wm)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(bt.iv,{height:"48",color:"primary"},{default:(0,he.w5)((()=>[(0,he.Wm)(_e.T,{icon:"mdi-close",onClick:t[0]||(t[0]=t=>e.dialogModel=!1)}),(0,he.Wm)(Wt.q,null,{default:(0,he.w5)((()=>[St])),_:1})])),_:1})])),_:1}),(0,he.Wm)(Mt.Z,null,{default:(0,he.w5)((()=>[(0,he.Wm)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"mt-5"},{default:(0,he.w5)((()=>[(0,he.Wm)(_t.R,{modelValue:e.modelHP,"onUpdate:modelValue":t[1]||(t[1]=t=>e.modelHP=t),min:-5,max:5,step:1,"show-ticks":"always","thumb-label":"always","hide-details":!0},null,8,["modelValue"]),jt])),_:1})])),_:1}),(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"mt-5"},{default:(0,he.w5)((()=>[(0,he.Wm)(_t.R,{modelValue:e.modelMP,"onUpdate:modelValue":t[2]||(t[2]=t=>e.modelMP=t),min:-10,max:10,step:1,"show-ticks":"always","thumb-label":"always","hide-details":!0},null,8,["modelValue"]),(0,he._)("pre",At,(0,ve.zw)(e.mpTitle),1)])),_:1})])),_:1}),(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"mt-5"},{default:(0,he.w5)((()=>[(0,he.Wm)(_t.R,{modelValue:e.modelThreshold,"onUpdate:modelValue":t[3]||(t[3]=t=>e.modelThreshold=t),min:-10,max:30,step:1,"show-ticks":"always","thumb-label":"always","hide-details":!0},null,8,["modelValue"]),Ct])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}const{mapGetters:xt,mapMutations:Ft}=(0,o._p)("character/status");var It=(0,he.aZ)({name:"AltConditionEditForm",props:{editDialog:Boolean},emits:["update:editDialog"],computed:{dialogModel:{get(){return this.editDialog},set(e){this.$emit("update:editDialog",e)}},...xt(["conditionHP","conditionMP","conditionThreshold","isMage","isBasij"]),modelHP:{get(){return this.conditionHP},set(e){this.setConditionHP(e)}},modelMP:{get(){return this.conditionMP},set(e){this.setConditionMP(e)}},modelThreshold:{get(){return this.conditionThreshold},set(e){this.setConditionThreshold(e)}},mpTitle(){return this.isMage?this.isBasij?"Басидж":"MP":"EP"}},methods:{...Ft(["setConditionHP","setConditionMP","setConditionThreshold"])}});const Pt=(0,qe.Z)(It,[["render",Vt]]);var Zt=Pt;const{mapGetters:Tt}=(0,o._p)("character/status");var Bt=(0,he.aZ)({name:"AltFatigue",components:{EditForm:Zt},data(){return{editDialog:!1}},computed:{...Tt(["conditionHP","conditionMP","conditionThreshold","isMage"]),haveHPCondition(){return 0!==this.conditionHP},haveMPCondition(){return 0!==this.conditionMP},haveThresholdCondition(){return 0!==this.conditionThreshold},HPIcon(){return this.haveHPCondition?this.conditionHP>0?{icon:"mdi-heart",color:"red"}:{icon:"mdi-heart-broken",color:"black"}:null},MPIcon(){return this.haveMPCondition?this.isMage?this.conditionMP>0?{icon:"mdi-star-plus",color:"primary"}:{icon:"mdi-star-minus",color:"brown"}:this.conditionMP>0?{icon:"mdi-flash-alert",color:"yellow-darken-1"}:{icon:"mdi-flash-off",color:"purple"}:null},thresholdIcon(){return this.haveThresholdCondition?this.conditionThreshold>0?{icon:"mdi-shield-plus",color:"green"}:{icon:"mdi-shield-off",color:"orange"}:null},haveAnyCondition(){return this.haveHPCondition||this.haveMPCondition||this.haveThresholdCondition}},methods:{}});const Ut=(0,qe.Z)(Bt,[["render",yt]]);var Dt=Ut;const Nt={class:"ml-3"},Ht=(0,he.Uk)(" mdi-shield ");function qt(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(ht.o,{class:"pa-0 ma-0 mb-3"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he._)("h3",Nt,[(0,he.Uk)(" Порог "+(0,ve.zw)(e.calcThreshold)+" ",1),(0,he.Wm)(ft.t,{color:e.color},{default:(0,he.w5)((()=>[Ht])),_:1},8,["color"]),0===e.calcThreshold?((0,he.wg)(),(0,he.iD)("span",{key:0,class:(0,ve.C_)(`text-${e.color}`)},"ТОБИ ПИЗДА",2)):(0,he.kq)("",!0)])])),_:1})])),_:1})}const{mapGetters:Ot}=(0,o._p)("character/status");var Kt=(0,he.aZ)({name:"AltThreshold",computed:{...Ot(["threshold","fatigue"]),calcThreshold(){return this.threshold-this.fatigue},color(){return 0===this.fatigue?"teal":0===this.calcThreshold?"red":"orange"}}});const Lt=(0,qe.Z)(Kt,[["render",qt]]);var zt=Lt;const Et=(0,he._)("pre",{class:"text-caption text-center"},"Усталость",-1);function Gt(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(ht.o,{class:"pa-0 ma-0 mb-3 mt-7"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(_t.R,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),min:0,max:e.threshold,step:1,"show-ticks":"always","thumb-label":"always","hide-details":!0},{prepend:(0,he.w5)((()=>[(0,he.Wm)(_e.T,{size:"small",variant:"text",icon:"mdi-minus",onClick:e.decrement},null,8,["onClick"])])),append:(0,he.w5)((()=>[(0,he.Wm)(_e.T,{size:"small",variant:"text",icon:"mdi-plus",onClick:e.increment},null,8,["onClick"])])),_:1},8,["modelValue","max"]),Et])),_:1})])),_:1})}const{mapGetters:Rt,mapMutations:$t}=(0,o._p)("character/status");var Jt=(0,he.aZ)({name:"AltFatigue",computed:{...Rt(["fatigue","threshold"]),value:{get(){return this.fatigue??0},set(e){this.setFatigue(e)}}},methods:{...$t(["setFatigue"]),decrement(){this.fatigue>0&&this.setFatigue(this.fatigue-1)},increment(){this.fatigue<this.threshold&&this.setFatigue(this.fatigue+1)}}});const Yt=(0,qe.Z)(Jt,[["render",Gt]]);var Qt=Yt;function Xt(e,t,a,l,n,i){const s=(0,he.up)("AltPointBar");return(0,he.wg)(),(0,he.j4)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(ht.o,{class:"pa-0 ma-0 mb-3"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(s,(0,he.dG)({value:e.hitsModel,"onUpdate:value":t[0]||(t[0]=t=>e.hitsModel=t)},e.hitsBar,{maxValue:e.maxHits}),null,16,["value","maxValue"])])),_:1})])),_:1}),e.isFameLvl3?(0,he.kq)("",!0):((0,he.wg)(),(0,he.j4)(ht.o,{key:0,class:"pa-0 ma-0 mb-3"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(s,(0,he.dG)({value:e.manaModel,"onUpdate:value":t[1]||(t[1]=t=>e.manaModel=t)},e.manaBar,{maxValue:e.maxMana}),null,16,["value","maxValue"])])),_:1})])),_:1})),e.isBard?((0,he.wg)(),(0,he.j4)(ht.o,{key:1,class:"pa-0 ma-0 mb-3"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(s,(0,he.dG)({value:e.inspirationModel,"onUpdate:value":t[2]||(t[2]=t=>e.inspirationModel=t)},e.inspirationBar,{maxValue:e.maxInspiration}),null,16,["value","maxValue"])])),_:1})])),_:1})):(0,he.kq)("",!0)])),_:1})}var ea=a(5958);const ta={class:"ml-3"},aa={class:"d-flex justify-space-between"};function la(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(ht.o,{class:"pa-0 ma-0 mb-3"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he._)("h3",ta,(0,ve.zw)(e.title)+" "+(0,ve.zw)(e.value)+"/"+(0,ve.zw)(e.maxValue),1),(0,he._)("div",aa,[(0,he.Wm)(_e.T,{variant:"text",icon:"mdi-minus",onClick:e.decrement},null,8,["onClick"]),(0,he.Wm)(ea.K,{class:"flex-wrap justify-center",modelValue:e.valueModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueModel=t),"empty-icon":e.emptyIcon,"full-icon":e.fullIcon,length:e.maxValue,color:e.color},null,8,["modelValue","empty-icon","full-icon","length","color"]),(0,he.Wm)(_e.T,{variant:"text",icon:"mdi-plus",onClick:e.increment},null,8,["onClick"])])])),_:1})])),_:1})}var na=(0,he.aZ)({name:"AltPointBar",props:{value:{type:Number,required:!0},maxValue:{type:Number,required:!0},title:String,emptyIcon:String,fullIcon:String,color:String},emits:["update:value"],computed:{valueModel:{get(){return this.value},set(e){this.$emit("update:value",e)}}},methods:{decrement(){this.valueModel>0&&this.valueModel--},increment(){this.valueModel<this.maxValue&&this.valueModel++}}});const ia=(0,qe.Z)(na,[["render",la]]);var sa=ia;const{mapGetters:ra,mapMutations:oa}=(0,o._p)("character/status");var ua=(0,he.aZ)({name:"AltPersonalTogglers",components:{AltPointBar:sa},computed:{...ra(["isMage","isBasij","isBard","isFameLvl3","hits","maxHits","mana","maxMana","inspiration","maxInspiration"]),hitsModel:{get(){return this.hits??0},set(e){this.setHits(e)}},manaModel:{get(){return this.mana??0},set(e){this.setMana(e)}},inspirationModel:{get(){return this.inspiration??0},set(e){this.setInspiration(e)}},hitsBar(){return d},manaBar(){return $(this.isMage,this.isBasij)},inspirationBar(){return f}},methods:{...oa(["setHits","setMana","setInspiration"])}});const ca=(0,qe.Z)(ua,[["render",Xt]]);var da=ca;const ma={class:"ml-3"},ha=(0,he.Uk)(" mdi-arrow-up-bold-hexagon-outline ");function pa(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(ht.o,{class:"pa-0 ma-0 mb-3"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he._)("h3",ma,[(0,he.Uk)(" Шаги за ход: "+(0,ve.zw)(e.stepCount)+" ",1),(0,he.Wm)(ft.t,{color:"teal"},{default:(0,he.w5)((()=>[ha])),_:1})])])),_:1})])),_:1})}const{mapGetters:fa}=(0,o._p)("character/status");var ga=(0,he.aZ)({name:"AltStepCount",components:{},computed:{...fa(["stepCount"])}});const va=(0,qe.Z)(ga,[["render",pa]]);var wa=va,ka=(0,he.aZ)({name:"StatusView",components:{AltConditions:Dt,AltThreshold:zt,AltFatigue:Qt,AltPointBars:da,AltStepCount:wa}});const ya=(0,qe.Z)(ka,[["render",mt]]);var Ma=ya;function _a(e,t,a,l,n,i){const s=(0,he.up)("AltStats");return(0,he.wg)(),(0,he.j4)(s)}function ba(e,t,a,l,n,i){const s=(0,he.up)("AltScaleField");return(0,he.wg)(),(0,he.j4)(dt.K,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s,{value:e.strengthModel,"onUpdate:value":t[0]||(t[0]=t=>e.strengthModel=t),title:"Сила"},null,8,["value"]),(0,he.Wm)(s,{value:e.agilityModel,"onUpdate:value":t[1]||(t[1]=t=>e.agilityModel=t),title:"Ловкость"},null,8,["value"]),(0,he.Wm)(s,{value:e.intelligenceModel,"onUpdate:value":t[2]||(t[2]=t=>e.intelligenceModel=t),title:"Интеллект"},null,8,["value"]),(0,he.Wm)(s,{value:e.charismaModel,"onUpdate:value":t[3]||(t[3]=t=>e.charismaModel=t),title:"Харизма"},null,8,["value"]),(0,he.Wm)(s,{value:e.enduranceModel,"onUpdate:value":t[4]||(t[4]=t=>e.enduranceModel=t),title:"Выносливость"},null,8,["value"])])),_:1})}const Wa={class:"mb-2"};function Sa(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"d-flex flex-column align-center"},{default:(0,he.w5)((()=>[(0,he._)("h4",Wa,[(0,he.Wm)(_e.T,{class:"d-inline",variant:"text",icon:"mdi-minus",onClick:e.decrement},null,8,["onClick"]),(0,he._)("span",null,(0,ve.zw)(e.title),1),(0,he.Wm)(_e.T,{class:"d-inline",variant:"text",icon:"mdi-plus",onClick:e.increment},null,8,["onClick"])]),(0,he.Wm)(ea.K,{modelValue:e.valueModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueModel=t),length:e.maxValue},{item:(0,he.w5)((t=>[(0,he.Wm)(ft.t,{color:t.isFilled?"green":"grey-lighten-1",onClick:t.onClick,size:"44"},{default:(0,he.w5)((()=>[(0,he.Uk)((0,ve.zw)(e.getIcon(t.value)),1)])),_:2},1032,["color","onClick"])])),_:1},8,["modelValue","length"])])),_:1})])),_:1})}var ja=(0,he.aZ)({name:"AltScaleField",props:{value:{type:Number,required:!0},title:String,maxValue:{type:Number,default:6}},emits:["update:value"],computed:{valueModel:{get(){return this.value},set(e){this.$emit("update:value",e)}}},methods:{decrement(){this.valueModel>0&&this.valueModel--},increment(){this.valueModel<this.maxValue&&this.valueModel++},getIcon(e){switch(e){case 1:return"mdi-dice-d4";case 2:return"mdi-dice-d6";case 3:return"mdi-dice-d8";case 4:return"mdi-dice-d10";case 5:return"mdi-dice-d12";case 6:return"mdi-dice-d20"}return"mdi-dice-d4"}}});const Aa=(0,qe.Z)(ja,[["render",Sa]]);var Ca=Aa;const{mapGetters:Va,mapMutations:xa}=(0,o._p)("character/stats");var Fa=(0,he.aZ)({name:"AltStats",components:{AltScaleField:Ca},computed:{...Va(["strength","agility","intelligence","charisma","endurance"]),strengthModel:{get(){return this.strength},set(e){this.setStat({statName:"strength",value:e})}},agilityModel:{get(){return this.agility},set(e){this.setStat({statName:"agility",value:e})}},intelligenceModel:{get(){return this.intelligence},set(e){this.setStat({statName:"intelligence",value:e})}},charismaModel:{get(){return this.charisma},set(e){this.setStat({statName:"charisma",value:e})}},enduranceModel:{get(){return this.endurance},set(e){this.setStat({statName:"endurance",value:e})}}},methods:{...xa(["setStat"])}});const Ia=(0,qe.Z)(Fa,[["render",ba]]);var Pa=Ia,Za=(0,he.aZ)({name:"StatsView",components:{AltStats:Pa}});const Ta=(0,qe.Z)(Za,[["render",_a]]);var Ba=Ta;function Ua(e,t,a,l,n,i){const s=(0,he.up)("AltName"),r=(0,he.up)("AltKind"),o=(0,he.up)("AltPersonalTogglers"),u=(0,he.up)("AltKarmaFame");return(0,he.wg)(),(0,he.j4)(dt.K,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s),(0,he.Wm)(r),(0,he.Wm)(o),(0,he.Wm)(u)])),_:1})}function Da(e,t,a,l,n,i){const s=(0,he.up)("AltTextField");return(0,he.wg)(),(0,he.j4)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s,{modelValue:e.nameModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.nameModel=t),label:"Имя"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})}var Na=a(5869);function Ha(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(Na.h,{modelValue:e.valueModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueModel=t),variant:"solo",density:"compact",label:e.label,"hide-details":"true"},null,8,["modelValue","label"])}var qa=(0,he.aZ)({name:"AltTextField",props:{modelValue:{type:String,required:!0},label:{type:String,required:!0}},emits:["update:modelValue"],computed:{valueModel:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}});const Oa=(0,qe.Z)(qa,[["render",Ha]]);var Ka=Oa;const{mapGetters:La,mapMutations:za}=(0,o._p)("character/personalInfo");var Ea=(0,he.aZ)({name:"AltName",components:{AltTextField:Ka},computed:{...La(["name"]),nameModel:{get(){return this.name??""},set(e){this.setName(e)}}},methods:{...za(["setName"])}});const Ga=(0,qe.Z)(Ea,[["render",Da]]);var Ra=Ga;function $a(e,t,a,l,n,i){const s=(0,he.up)("AltSelectField");return(0,he.wg)(),(0,he.j4)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s,{modelValue:e.kindModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.kindModel=t),label:"Раса",items:e.kinds},null,8,["modelValue","items"])])),_:1})])),_:1})])),_:1})}var Ja=a(45);function Ya(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(Ja.r,{modelValue:e.valueModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueModel=t),items:e.items,variant:"solo",density:"compact",label:e.label,"hide-details":"true"},null,8,["modelValue","items","label"])}var Qa=(0,he.aZ)({name:"AltSelectField",props:{modelValue:{type:String,required:!0},label:{type:String,required:!0},items:{type:Array,required:!0}},emits:["update:modelValue"],computed:{valueModel:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}});const Xa=(0,qe.Z)(Qa,[["render",Ya]]);var el=Xa;const{mapGetters:tl,mapMutations:al}=(0,o._p)("character/personalInfo");var ll=(0,he.aZ)({name:"AltName",components:{AltSelectField:el},data(){return{kinds:Z}},computed:{...tl(["kind"]),kindModel:{get(){return this.kind??""},set(e){this.setKind(e)}}},methods:{...al(["setKind"])}});const nl=(0,qe.Z)(ll,[["render",$a]]);var il=nl;const sl=(0,he._)("pre",{class:"text-caption text-center"},"Уровень Басиджа",-1);function rl(e,t,a,l,n,i){const s=(0,he.up)("AltCheckboxField");return(0,he.wg)(),(0,he.j4)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s,{value:e.isMageModel,"onUpdate:value":t[0]||(t[0]=t=>e.isMageModel=t),title:"Магическое существо"},null,8,["value"])])),_:1}),e.isMageModel?((0,he.wg)(),(0,he.j4)(ht.o,{key:0},{default:(0,he.w5)((()=>[(0,he.Wm)(s,{value:e.isBasijModel,"onUpdate:value":t[1]||(t[1]=t=>e.isBasijModel=t),title:"Басидж-каран"},null,8,["value"])])),_:1})):(0,he.kq)("",!0),e.isMageModel&&e.isBasijModel?((0,he.wg)(),(0,he.j4)(ht.o,{key:1},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"mt-5"},{default:(0,he.w5)((()=>[(0,he.Wm)(_t.R,{modelValue:e.basijLevelModel,"onUpdate:modelValue":t[2]||(t[2]=t=>e.basijLevelModel=t),min:e.defaultBasij,max:e.maxBasij,step:1,"show-ticks":"always","thumb-label":"always","hide-details":!0},null,8,["modelValue","min","max"]),sl])),_:1})])),_:1})):(0,he.kq)("",!0),(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s,{value:e.isBardModel,"onUpdate:value":t[3]||(t[3]=t=>e.isBardModel=t),title:"Бард"},null,8,["value"])])),_:1})])),_:1})}var ol=a(1222);function ul(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(ol.x,{modelValue:e.valueModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueModel=t),label:e.title,color:"primary","hide-details":""},null,8,["modelValue","label"])}var cl=(0,he.aZ)({name:"AltCheckboxField",props:{value:{type:Boolean,required:!0},title:String},emits:["update:value"],computed:{valueModel:{get(){return this.value},set(e){this.$emit("update:value",e)}}}});const dl=(0,qe.Z)(cl,[["render",ul]]);var ml=dl;const{mapGetters:hl,mapMutations:pl}=(0,o._p)("character/personalInfo");var fl=(0,he.aZ)({name:"AltPersonalTogglers",components:{AltCheckboxField:ml},data(){return{defaultBasij:_,maxBasij:b}},computed:{...hl(["isMage","isBasij","basijLevel","isBard"]),isMageModel:{get(){return this.isMage??!1},set(e){this.setIsMage(e),e||(this.isBasijModel=!1)}},isBasijModel:{get(){return this.isBasij??!1},set(e){this.setIsBasij(e)}},basijLevelModel:{get(){return this.basijLevel??2},set(e){this.setBasijLevel(e)}},isBardModel:{get(){return this.isBard??!1},set(e){this.setIsBard(e)}}},methods:{...pl(["setIsMage","setIsBasij","setBasijLevel","setIsBard"])}});const gl=(0,qe.Z)(fl,[["render",rl]]);var vl=gl;function wl(e,t,a,l,n,i){const s=(0,he.up)("AltNumberField");return e.isMage||e.isBard?((0,he.wg)(),(0,he.j4)(dt.K,{key:0,class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[e.isMage?((0,he.wg)(),(0,he.j4)(pt.D,{key:0},{default:(0,he.w5)((()=>[(0,he.Wm)(s,{modelValue:e.karmaModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.karmaModel=t),label:"Карма"},null,8,["modelValue"])])),_:1})):(0,he.kq)("",!0),e.isBard?((0,he.wg)(),(0,he.j4)(pt.D,{key:1},{default:(0,he.w5)((()=>[(0,he.Wm)(s,{modelValue:e.fameModel,"onUpdate:modelValue":t[1]||(t[1]=t=>e.fameModel=t),label:"Известность"},null,8,["modelValue"])])),_:1})):(0,he.kq)("",!0)])),_:1})])),_:1})):(0,he.kq)("",!0)}function kl(e,t,a,l,n,i){const s=(0,he.Q2)("maska");return(0,he.wy)(((0,he.wg)(),(0,he.j4)(Na.h,{modelValue:e.valueModel,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueModel=t),modelModifiers:{number:!0},type:"number",variant:"solo",density:"compact",label:e.label,"hide-details":"true"},null,8,["modelValue","label"])),[[s,e.mask]])}var yl=(0,he.aZ)({name:"AltNumberField",props:{modelValue:{type:Number,required:!0},label:{type:String,required:!0},mask:{type:[String,Array],default:"####"}},emits:["update:modelValue"],computed:{valueModel:{get(){return this.modelValue??0},set(e){this.$emit("update:modelValue",e)}}}});const Ml=(0,qe.Z)(yl,[["render",kl]]);var _l=Ml;const{mapGetters:bl,mapMutations:Wl}=(0,o._p)("character/personalInfo");var Sl=(0,he.aZ)({name:"AltKarmaFame",components:{AltNumberField:_l},computed:{...bl(["isMage","isBard","karma","fame"]),karmaModel:{get(){return this.karma??0},set(e){this.setKarma(e)}},fameModel:{get(){return this.fame??0},set(e){this.setFame(e)}}},methods:{...Wl(["setKarma","setFame"])}});const jl=(0,qe.Z)(Sl,[["render",wl]]);var Al=jl,Cl=(0,he.aZ)({name:"PersonalView",components:{AltName:Ra,AltKind:il,AltPersonalTogglers:vl,AltKarmaFame:Al}});const Vl=(0,qe.Z)(Cl,[["render",Ua]]);var xl=Vl;function Fl(e,t,a,l,n,i){const s=(0,he.up)("AltWallet");return(0,he.wg)(),(0,he.j4)(dt.K,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s)])),_:1})}const Il={class:"d-flex"},Pl=(0,he.Uk)("-100"),Zl=(0,he.Uk)("-10"),Tl={class:"d-flex"},Bl=(0,he.Uk)("+10"),Ul=(0,he.Uk)("+100");function Dl(e,t,a,l,n,i){const s=(0,he.up)("AltNumberField");return(0,he.wg)(),(0,he.j4)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(ht.o,{class:"pa-0 ma-0 mb-3"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0 d-flex"},{default:(0,he.w5)((()=>[(0,he.Wm)(_e.T,{class:"d-inline",variant:"text",icon:"mdi-minus",onClick:t[0]||(t[0]=t=>e.decrement())}),(0,he.Wm)(s,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),modelModifiers:{number:!0},label:"Кошель",mask:"######"},null,8,["modelValue"]),(0,he.Wm)(_e.T,{class:"d-inline",variant:"text",icon:"mdi-plus",onClick:t[2]||(t[2]=t=>e.increment())})])),_:1})])),_:1}),(0,he.Wm)(ht.o,{class:"pa-0 my-0 mx-10"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,{class:"pa-0 d-flex justify-space-between"},{default:(0,he.w5)((()=>[(0,he._)("div",Il,[(0,he.Wm)(_e.T,{size:"small",class:"mr-2",variant:"tonal",rounded:"pill",onClick:t[3]||(t[3]=t=>e.decrement(100))},{default:(0,he.w5)((()=>[Pl])),_:1}),(0,he.Wm)(_e.T,{size:"small",variant:"tonal",rounded:"pill",onClick:t[4]||(t[4]=t=>e.decrement(10))},{default:(0,he.w5)((()=>[Zl])),_:1})]),(0,he._)("div",Tl,[(0,he.Wm)(_e.T,{size:"small",class:"mr-2",variant:"tonal",rounded:"pill",onClick:t[5]||(t[5]=t=>e.increment(10))},{default:(0,he.w5)((()=>[Bl])),_:1}),(0,he.Wm)(_e.T,{size:"small",variant:"tonal",rounded:"pill",onClick:t[6]||(t[6]=t=>e.increment(100))},{default:(0,he.w5)((()=>[Ul])),_:1})])])),_:1})])),_:1})])),_:1})}const{mapGetters:Nl,mapMutations:Hl}=(0,o._p)("character/inventory");var ql=(0,he.aZ)({name:"AltWallet",components:{AltNumberField:_l},computed:{...Nl(["wallet"]),value:{get(){return this.wallet??0},set(e){this.setWallet(e)}}},methods:{...Hl(["setWallet"]),decrement(e=1){"number"===typeof this.value?this.value-e>=0&&(this.value-=e):this.value=0},increment(e=1){"number"===typeof this.value?this.value+=e:this.value=e}}});const Ol=(0,qe.Z)(ql,[["render",Dl]]);var Kl=Ol,Ll=(0,he.aZ)({name:"InventoryView",components:{AltWallet:Kl}});const zl=(0,qe.Z)(Ll,[["render",Fl]]);var El=zl;function Gl(e,t,a,l,n,i){const s=(0,he.up)("AltSkills");return(0,he.wg)(),(0,he.j4)(dt.K,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s)])),_:1})}function Rl(e,t,a,l,n,i){const s=(0,he.up)("AltSkillsStatSection");return(0,he.wg)(),(0,he.j4)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[((0,he.wg)(!0),(0,he.iD)(he.HY,null,(0,he.Ko)(e.statsWithSkills,((a,l)=>((0,he.wg)(),(0,he.j4)(s,{key:"stat"+l,name:l,title:a.title,skillsDictionary:a.skills,openedForm:e.openedForm,"onUpdate:openedForm":t[0]||(t[0]=t=>e.openedForm=t)},null,8,["name","title","skillsDictionary","openedForm"])))),128))])),_:1})}const $l={class:"d-flex justify-center"},Jl={key:2,class:"text-center"};function Yl(e,t,a,l,n,i){const s=(0,he.up)("AltSkillAddingForm"),r=(0,he.up)("AltStateField");return(0,he.wg)(),(0,he.j4)(dt.K,{class:"px-0 py-2"},{default:(0,he.w5)((()=>[(0,he._)("h2",$l,[(0,he._)("span",null,(0,ve.zw)(e.title),1),e.canAddNewSkill?((0,he.wg)(),(0,he.j4)(_e.T,{key:0,class:"ml-2",size:"small",flat:"",color:"success",icon:e.btnIcon,onClick:e.toggleForm},null,8,["icon","onClick"])):(0,he.kq)("",!0)]),e.isCurrentFormOpen?((0,he.wg)(),(0,he.j4)(s,{key:0,statName:e.name,skillsDictionary:e.filteredSkillsDictionary,onCloseForm:e.closeForm},null,8,["statName","skillsDictionary","onCloseForm"])):(0,he.kq)("",!0),e.learnedSkills.length?((0,he.wg)(!0),(0,he.iD)(he.HY,{key:1},(0,he.Ko)(e.learnedSkills,(t=>((0,he.wg)(),(0,he.j4)(r,{key:"skill-"+t,name:t,maxValue:e.statLevel,statName:e.name},null,8,["name","maxValue","statName"])))),128)):e.isCurrentFormOpen?(0,he.kq)("",!0):((0,he.wg)(),(0,he.iD)("p",Jl,"Навыки не изучены"))])),_:1})}a(6699);function Ql(e,t,a,l,n,i){const s=(0,he.up)("AltScaleField");return(0,he.wg)(),(0,he.j4)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(s,{value:e.valueModel,"onUpdate:value":t[0]||(t[0]=t=>e.valueModel=t),title:e.title,maxValue:e.maxValue},null,8,["value","title","maxValue"])])),_:1})}const{mapGetters:Xl,mapMutations:en}=(0,o._p)("character/skills");var tn=(0,he.aZ)({name:"altSkillField",components:{AltScaleField:Ca},props:{name:{type:String,requred:!0},maxValue:{type:Number,default:6},statName:{type:String,requred:!0,default:""}},data(){return{}},computed:{...Xl(["getSkill"]),valueModel:{get(){return this.getSkill(this.name,this.statName)},set(e){this.setSkill({name:this.name,level:e,statName:this.statName})}},title(){return B[this.statName].skills.find((e=>e.value===this.name))?.title??""}},methods:{...en(["setSkill"])}});const an=(0,qe.Z)(tn,[["render",Ql]]);var ln=an;const nn=(0,he.Uk)(" Добавить ");function sn(e,t,a,l,n,i){const s=(0,he.up)("AltSelectField");return(0,he.wg)(),(0,he.j4)(dt.K,null,{default:(0,he.w5)((()=>[(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,null,{default:(0,he.w5)((()=>[(0,he.Wm)(s,{value:e.selectedSkill,"onUpdate:value":t[0]||(t[0]=t=>e.selectedSkill=t),items:e.skillsDictionary,label:"Новый навык"},null,8,["value","items"])])),_:1})])),_:1}),(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,null,{default:(0,he.w5)((()=>[(0,he.Wm)(_e.T,{size:"small",flat:"",block:"",color:"success",disabled:!e.selectedSkill,onClick:e.addSkill},{default:(0,he.w5)((()=>[nn])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1})}const{mapMutations:rn}=(0,o._p)("character/skills");var on=(0,he.aZ)({name:"altSkillAddingForm",components:{AltSelectField:el},props:{statName:{type:String,requred:!0},skillsDictionary:{type:Array,requred:!0,default:()=>[]}},data(){return{selectedSkill:this.skillsDictionary[0].value}},methods:{...rn(["setSkill"]),addSkill(){this.setSkill({name:this.selectedSkill,level:1,statName:this.statName}),this.$emit("close-form")}}});const un=(0,qe.Z)(on,[["render",sn]]);var cn=un;const{mapGetters:dn}=(0,o._p)("character/skills"),{mapGetters:mn}=(0,o._p)("character/stats");var hn=(0,he.aZ)({name:"altSkillsStatSection",components:{AltStateField:ln,AltSkillAddingForm:cn},props:{name:{type:String,requred:!0},title:{type:String,requred:!0},skillsDictionary:{type:Array,requred:!0,default:()=>[]},openedForm:{type:String,requred:!0,default:null}},data(){return{}},computed:{...dn(["statSkills","skillCount"]),...mn(["statByName"]),statLevel(){return this.statByName(this.name)},learnedSkills(){return Object.keys(this.statSkills(this.name))},isCurrentFormOpen(){return this.openedForm===this.name},canAddNewSkill(){return!!this.filteredSkillsDictionary.length&&this.skillCount<13&&this.statLevel>0},btnIcon(){return this.isCurrentFormOpen?"mdi-minus":"mdi-plus"},filteredSkillsDictionary(){return this.skillsDictionary.filter((e=>!this.learnedSkills.includes(e.value)))}},methods:{toggleForm(){let e=this.isCurrentFormOpen?null:this.name;this.$emit("update:openedForm",e)},closeForm(){this.$emit("update:openedForm",null)}}});const pn=(0,qe.Z)(hn,[["render",Yl]]);var fn=pn,gn=(0,he.aZ)({name:"altSkills",components:{AltSkillsStatSection:fn},data(){return{statsWithSkills:B,openedForm:null}}});const vn=(0,qe.Z)(gn,[["render",Rl]]);var wn=vn,kn=(0,he.aZ)({name:"SkillsView",components:{AltSkills:wn}});const yn=(0,qe.Z)(kn,[["render",Gl]]);var Mn=yn;function _n(e,t,a,l,n,i){const s=(0,he.up)("CharacterList"),r=(0,he.up)("LoginButton");return(0,he.wg)(),(0,he.j4)(dt.K,{class:"h-100"},{default:(0,he.w5)((()=>[e.isAuth?((0,he.wg)(),(0,he.j4)(s,{key:0})):((0,he.wg)(),(0,he.j4)(r,{key:1}))])),_:1})}const bn=(0,he.Uk)("Авторизоваться");function Wn(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(ht.o,{class:"h-100 align-center"},{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,null,{default:(0,he.w5)((()=>[(0,he.Wm)(_e.T,{"prepend-icon":"mdi-google",block:"",onClick:e.googleSignIn},{default:(0,he.w5)((()=>[bn])),_:1},8,["onClick"])])),_:1})])),_:1})}var Sn=(0,he.aZ)({name:"AltLoginButton",methods:{googleSignIn:de}});const jn=(0,qe.Z)(Sn,[["render",Wn]]);var An=jn,Cn=a(7754),Vn=a(2127);const xn=(0,he.Uk)(" Список персонажей "),Fn=(0,he.Uk)(" Новый персонаж ");function In(e,t,a,l,n,i){return(0,he.wg)(),(0,he.j4)(dt.K,{class:"pa-0"},{default:(0,he.w5)((()=>[(0,he.Wm)(Re.i,{density:"compact"},{default:(0,he.w5)((()=>[(0,he.Wm)(Cn.b,null,{default:(0,he.w5)((()=>[xn])),_:1}),((0,he.wg)(!0),(0,he.iD)(he.HY,null,(0,he.Ko)(e.chars,(t=>((0,he.wg)(),(0,he.j4)($e.l,{key:t.id,class:"char","active-color":"primary",active:t.id===this.currentID,onClick:a=>e.chooseChar(t)},{default:(0,he.w5)((()=>[(0,he.Wm)(Vn.V,null,{default:(0,he.w5)((()=>[(0,he.Uk)((0,ve.zw)(t.personalInfo.name||"Нет имени"),1)])),_:2},1024)])),_:2},1032,["active","onClick"])))),128))])),_:1}),(0,he.Wm)(ht.o,null,{default:(0,he.w5)((()=>[(0,he.Wm)(pt.D,null,{default:(0,he.w5)((()=>[(0,he.Wm)(_e.T,{size:"small","prepend-icon":"mdi-plus",block:"",onClick:e.createChar},{default:(0,he.w5)((()=>[Fn])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}var Pn=(0,he.aZ)({name:"AltCharcterList",data(){return{chars:null,currentID:localStorage.getItem("charlistID")}},created(){this.getData()},methods:{getAllChars:De,async getData(){const e=await this.getAllChars(),t=[];e?.forEach((e=>{t.push({...e.data(),id:e.id})})),this.chars=t},chooseChar(e){e.id!==this.currentID&&Y(e)},async createChar(){await Ne()}}});const Zn=(0,qe.Z)(Pn,[["render",In],["__scopeId","data-v-60807126"]]);var Tn=Zn;const{mapGetters:Bn}=(0,o._p)("app/auth");var Un=(0,he.aZ)({name:"StartView",components:{LoginButton:An,CharacterList:Tn},computed:{...Bn(["isAuth"])}});const Dn=(0,qe.Z)(Un,[["render",_n]]);var Nn=Dn;const Hn=[{path:"/",name:"status",component:Ma,meta:{title:"Статус"}},{path:"/inventory",name:"inventory",component:El,meta:{title:"Инвентарь"}},{path:"/stats",name:"stats",component:Ba,meta:{title:"Характеристики"}},{path:"/skills",name:"skills",component:Mn,meta:{title:"Навыки"}},{path:"/personal",name:"personal",component:xl,meta:{title:"Личность"}},{path:"/start",name:"start",component:Nn,meta:{title:"Старт",hideInNav:!0}}],qn=(0,ut.p7)({history:(0,ut.r5)("/altren-character/"),routes:Hn});qn.beforeEach((async e=>{if(await(0,ct.c)(),!se.getters["app/auth/isAuth"]&&"start"!==e.name)return{name:"start"}}));var On=qn,Kn=(a(9773),a(8957)),Ln=(0,Kn.Rd)();async function zn(){const e=await a.e(461).then(a.t.bind(a,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}var En=a(5431);(0,En.z)("/altren-character/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),zn();const Gn=(0,s.Aj)(ue,(e=>{se.commit("app/auth/setUser",e),Gn()}));(0,l.ri)(ot).use(i.Yo,{firebaseApp:oe,modules:[(0,i.Fl)()]}).use(On).use(se).use(Ln).use(n.ZP).mount("#app")}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,i){if(!l){var s=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],i=e[c][2];for(var r=!0,o=0;o<l.length;o++)(!1&i||s>=i)&&Object.keys(a.O).every((function(e){return a.O[e](l[o])}))?l.splice(o--,1):(r=!1,i<s&&(s=i));if(r){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[l,n,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(l,n){if(1&n&&(l=this(l)),8&n)return l;if("object"===typeof l&&l){if(4&n&&l.__esModule)return l;if(16&n&&"function"===typeof l.then)return l}var i=Object.create(null);a.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var r=2&n&&l;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){s[e]=function(){return l[e]}}));return s["default"]=function(){return l},a.d(i,s),i}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,l){return a.f[l](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/webfontloader.17ed5ff7.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="altren-character:";a.l=function(l,n,i,s){if(e[l])e[l].push(n);else{var r,o;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==l||d.getAttribute("data-webpack")==t+i){r=d;break}}r||(o=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+i),r.src=l),e[l]=[n];var m=function(t,a){r.onerror=r.onload=null,clearTimeout(h);var n=e[l];if(delete e[l],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),o&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/altren-character/"}(),function(){var e={143:0};a.f.j=function(t,l){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)l.push(n[2]);else{var i=new Promise((function(a,l){n=e[t]=[a,l]}));l.push(n[2]=i);var s=a.p+a.u(t),r=new Error,o=function(l){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var i=l&&("load"===l.type?"missing":l.type),s=l&&l.target&&l.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",r.name="ChunkLoadError",r.type=i,r.request=s,n[1](r)}};a.l(s,o,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,i,s=l[0],r=l[1],o=l[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(o)var c=o(a)}for(t&&t(l);u<s.length;u++)i=s[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},l=self["webpackChunkaltren_character"]=self["webpackChunkaltren_character"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(242)}));l=a.O(l)})();
//# sourceMappingURL=app.6d372b4c.js.map